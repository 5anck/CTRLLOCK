-- URLs de las imágenes del cursor
local OFF = "rbxasset://textures/ui/mouseLock_off@2x.png"
local ON = "rbxasset://textures/ui/mouseLock_on@2x.png"

-- Obtener los servicios necesarios
local Input = game:GetService("UserInputService")
local GameSettings = UserSettings():GetService("UserGameSettings")

-- Variable para controlar el estado de Shift Lock
local ShiftLockEnabled = false

-- Función para activar Shift Lock
local function ForceShiftLock()
    local originalRotationType = GameSettings.RotationType
    GameSettings.RotationType = Enum.RotationType.CameraRelative
    ShiftLockEnabled = true
    script.Parent.MouseIcon = ON  -- Cambiar el cursor a ON
end

-- Función para desactivar Shift Lock
local function EndForceShiftLock()
    GameSettings.RotationType = Enum.RotationType.MovementRelative
    ShiftLockEnabled = false
    script.Parent.MouseIcon = OFF  -- Cambiar el cursor a OFF
end

-- Manejar el evento de tecla presionada
Input.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.LeftControl then
        if ShiftLockEnabled then
            EndForceShiftLock()
        else
            ForceShiftLock()
        end
    end
end)
